(function(d){function l(k){var e=[].slice.call(arguments,1),f=0;k=d.event.fix(k||window.event);k.type="mousewheel";if(k.wheelDelta)f=k.wheelDelta/120;if(k.detail)f=-k.detail/3;e.unshift(k,f);return d.event.handle.apply(this,e)}var m=["DOMMouseScroll","mousewheel"];d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var k=m.length;k;)this.addEventListener(m[--k],l,false);else this.onmousewheel=l},teardown:function(){if(this.removeEventListener)for(var k=m.length;k;)this.removeEventListener(m[--k],
l,false);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(k){return k?this.bind("mousewheel",k):this.trigger("mousewheel")},unmousewheel:function(k){return this.unbind("mousewheel",k)}})})(jQuery);
(function(d,l){var m=Array.prototype.slice,k=d.cleanData;d.cleanData=function(e){for(var f=0,h;(h=e[f])!=null;f++)d(h).triggerHandler("remove");k(e)};d.widget=function(e,f,h){var j=e.split(".")[0],n;e=e.split(".")[1];n=j+"-"+e;if(!h){h=f;f=d.Widget}d.expr[":"][n]=function(p){return!!d.data(p,e)};d[j]=d[j]||{};d[j][e]=d.extend(function(p,t){if(!this._createWidget)return new d[j][e](p,t);arguments.length&&this._createWidget(p,t)},d[j][e]);var q=new f;q.options=d.extend(true,{},q.options);d.each(h,function(p,
t){if(d.isFunction(t))h[p]=function(){var x=function(w){return f.prototype[w].apply(this,m.call(arguments,1))},B=function(w,r){return f.prototype[w].apply(this,r)};return function(){var w=this._super,r=this._superApply,u;this._super=x;this._superApply=B;u=t.apply(this,arguments);this._super=w;this._superApply=r;return u}}()});d[j][e].prototype=d.extend(true,q,{namespace:j,widgetName:e,widgetEventPrefix:e,widgetBaseClass:n},h);d.widget.bridge(e,d[j][e])};d.widget.bridge=function(e,f){d.fn[e]=function(h){var j=
typeof h==="string",n=m.call(arguments,1),q=this;h=!j&&n.length?d.extend.apply(null,[true,h].concat(n)):h;j?this.each(function(){var p=d.data(this,e);if(!p)return d.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+h+"'");if(!d.isFunction(p[h])||h.charAt(0)==="_")return d.error("no such method '"+h+"' for "+e+" widget instance");var t=p[h].apply(p,n);if(t!==p&&t!==l){q=t;return false}}):this.each(function(){var p=d.data(this,e);p?p.option(h||{})._init():f(h,
this)});return q}};d.Widget=function(e,f){if(!this._createWidget)return new d[namespace][name](e,f);arguments.length&&this._createWidget(e,f)};d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false},_createWidget:function(e,f){f=d(f||this.defaultElement||this)[0];this.element=d(f);this.options=d.extend(true,{},this.options,this._getCreateOptions(),e);this.bindings=d();this.hoverable=d();this.focusable=d();if(f!==this){d.data(f,this.widgetName,this);
this._bind({remove:"destroy"})}this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return d.metadata&&d.metadata.get(this.element[0])[this.widgetName]},_create:d.noop,_init:d.noop,destroy:function(){this._destroy();this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");this.bindings.unbind("."+this.widgetName);this.hoverable.removeClass("ui-state-hover");
this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(e,f){var h=e;if(arguments.length===0)return d.extend({},this.options);if(typeof e==="string"){if(f===l)return this.options[e];h={};h[e]=f}this._setOptions(h);return this},_setOptions:function(e){var f=this;d.each(e,function(h,j){f._setOption(h,j)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget().toggleClass(this.widgetBaseClass+"-disabled ui-state-disabled",
!!f).attr("aria-disabled",f);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_bind:function(e,f){if(f){e=d(e);this.bindings=this.bindings.add(e)}else{f=e;e=this.element}var h=this;d.each(f,function(j,n){e.bind(j+"."+h.widgetName,function(){if(!(h.options.disabled===true||d(this).hasClass("ui-state-disabled")))return(typeof n===
"string"?h[n]:n).apply(h,arguments)})})},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._bind(e,{mouseenter:function(f){d(f.currentTarget).addClass("ui-state-hover")},mouseleave:function(f){d(f.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._bind(e,{focusin:function(f){d(f.currentTarget).addClass("ui-state-focus")},focusout:function(f){d(f.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,f,h){var j=
this.options[e];f=d.Event(f);f.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();h=h||{};if(f.originalEvent){e=d.event.props.length;for(var n;e;){n=d.event.props[--e];f[n]=f.originalEvent[n]}}this.element.trigger(f,h);h=d.isArray(h)?[f].concat(h):[f,h];return!(d.isFunction(j)&&j.apply(this.element[0],h)===false||f.isDefaultPrevented())}}})(jQuery);
(function(d){d.geo={_center:function(l){return[(l[0]+l[2])/2,(l[1]+l[3])/2]},_expandBy:function(l,m,k){l=this._center(l);return[l[0]-m,l[1]-k,l[0]+m,l[1]+k]},_height:function(l){return l[3]-l[1]},_reaspect:function(l,m){var k=this._width(l),e=this._height(l);this._center(l);if(k==0||e==0||m<=0)return l;if(k/e>m){k=k/2;e=k/m}else{e=e/2;k=e*m}return[c[0]-k,c[1]-e,c[0]+k,c[1]+e]},_scaleBy:function(l,m){return this._expandBy(l,this._width(l)*m/2,this._height(l)*m/2)},_width:function(l){return l[2]-l[0]},
proj:function(){function l(e){return e>Math.PI?e-=m:e<-Math.PI?e+=m:e}var m=6.283185307179586;this.CoordinateSystem=function(e,f,h,j){if(arguments.length<2)f=0;if(arguments.length<3)h=0;if(arguments.length<4)j=1;switch(j){case "meters":j=1;break;case "feet":j=3.2808333333333333}this.toGeodetic=function(n){return e.toGeodetic({x:(n.x-f)/j,y:(n.y-h)/j})};this.toProjected=function(n){n=e.toProjected(n);return{x:n.x*j+f,y:n.y*j+h}}};this.Mercator=function(e,f,h){e*=0.017453292519943295;f*=0.017453292519943295;
var j=h.e*h.e,n=Math.sin(f),q=1/(Math.sqrt(1-j*n*n)/Math.cos(f));f=j*j;n=f*j;var p=n*j,t=j/2+5*f/24+n/12+13*p/360,x=7*f/48+29*n/240+811*p/11520,B=7*n/120+81*p/1120,w=4279*p/161280;this.toGeodetic=function(r){var u=l(e+r.x/(q*h.smaj));r=1.5707963267948966-2*Math.atan(1/Math.exp(r.y/(q*h.smaj)));return{x:u*57.29577951308232,y:(r+t*Math.sin(2*r)+x*Math.sin(4*r)+B*Math.sin(6*r)+w*Math.sin(8*r))*57.29577951308232}};this.toProjected=function(r){var u=r.y*0.017453292519943295,v=h.e*Math.sin(u);u=Math.tan(Math.PI/
4+u/2)*Math.pow((1-v)/(1+v),h.e/2);r=l(r.x*0.017453292519943295-e);return{x:q*h.smaj*r,y:q*h.smaj*Math.log(u)}}};this.Spheroid=function(e,f){switch(typeof e){case "number":this.smaj=e;this.e=f;break;case "string":switch(e){case "WGS84Sphere":this.smaj=6378137;this.e=0}}this.smin=this.smaj*Math.sqrt(1-this.e*this.e);var h=(this.smaj-this.smin)/this.smaj;this.distance=function(j,n,q){if(arguments.length<3)q=1;switch(q){case "meters":q=1;break;case "feet":q=3.2808333333333333}var p=j.y*0.017453292519943295,
t=n.y*0.017453292519943295,x=(p+t)*0.5,B=(p-t)*0.5,w=(j.x*0.017453292519943295-n.x*0.017453292519943295)*0.5;p=Math.sin(x);p*=p;x=Math.cos(x);x*=x;t=Math.sin(B);t*=t;B=Math.cos(B);B*=B;var r=Math.sin(w);r*=r;var u=Math.cos(w);u*=u;w=t*u+x*r;r=B*u+p*r;u=Math.atan(Math.sqrt(w/r));var v=Math.sqrt(w*r)/u;return 2*this.smaj*u*(1+h*((3*v-1)/(2*r)*p*B-(3*v+1)/(2*w)*x*t))*q}};var k=new Mercator(0,0,new Spheroid("WGS84Sphere"));return{fromGeodetic:function(e){for(var f=[],h=0,j;h<e.length;h++){j=k.toProjected({x:e[h][0],
y:e[h][1]});f[h]=[j.x,j.y]}return f},toGeodetic:function(e){for(var f=[],h=0,j;h<e.length;h++){j=k.toGeodetic({x:e[h][0],y:e[h][1]});f[h]=[j.x,j.y]}return f}}}()}})(jQuery,this);
(function(d,l){var m="center",k="pixelSize",e,f={},h,j,n,q,p,t,x,B,w,r,u,v,Y,Z,V,P,W,E,Q,fa=function(){for(var a=5,b=document.createElement("div"),g=b.all||[];b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]--\>",g[0];);return a>6?a:!a}(),M,$=this._supportTouch||this._ieVersion==7,R,O,N={},o={},ha={bbox:[-180,-90,180,90],bboxMax:[-180,-90,180,90],center:[0,0],cursors:{pan:"move"},mode:"pan",pixelSize:156543.03392799935,services:[{id:"OSM",type:"tiled",getUrl:function(a){return"http://tile.openstreetmap.org/"+
a.zoom+"/"+a.tile.column+"/"+a.tile.row+".png"},attr:"&copy; OpenStreetMap &amp; contributors, CC-BY-SA",visible:true}],tilingScheme:{tileWidth:256,tileHeight:256,levels:18,basePixelSize:156543.03392799935,origin:[-2.0037508342787E7,2.0037508342787E7]},zoom:0,_serviceTypes:{tiled:{create:function(a,b,g){if(this[b.id]==null){this[b.id]={loadCount:0,reloadTiles:false,serviceContainer:null};a="<div data-service='"+b.id+"' style='position:absolute; left:0; top:0; width:8px; height:8px; margin:0; padding:0; display:"+
(b.visible?"block":"none")+";'></div>";g!=null?d(j.children()[g]).before(a):j.append(a);this[b.id].serviceContainer=j.children("[data-service='"+b.id+"']")}},destroy:function(a,b){this[b.id].serviceContainer.remove();delete this[b.id]},interactivePan:function(a,b,g,z){this._cancelUnloaded(a,b);this[b.id].serviceContainer.children().css({left:function(s,C){return parseInt(C)+g},top:function(s,C){return parseInt(C)+z}})},interactiveScale:function(){},refresh:function(a,b){if(b!=null&&this[b.id]!=null&&
b.visible){this._cancelUnloaded(a,b);var g=this[b.id],z=g.serviceContainer,s=k,C=a._getBbox(),D=a.options.tilingScheme,y=D.tileWidth,A=D.tileHeight,F=Math.floor((C[0]-D.origin[0])/(s*y)),S=Math.floor((D.origin[1]-C[3])/(s*A)),aa=Math.ceil((C[2]-D.origin[0])/(s*y)),ga=Math.ceil((D.origin[1]-C[1])/(s*A)),H=a._getBboxMax(),G=a._getTiledPixelSize(0),T=G/s,ba=Math.floor((H[0]-D.origin[0])/(G*y))*T,ca=Math.floor((D.origin[1]-H[3])/(G*A))*T,J=Math.round((D.origin[0]+ba*y*s-C[0])/s),K=Math.round((C[3]-(D.origin[1]-
ca*A*s))/s);C=z.children().show();H=C.filter("[data-pixelSize='"+s+"']").appendTo(z);var X=b.opacity==null?1:b.opacity;g.reloadTiles&&C.find("img").attr("data-dirty","true");if(H.size()===0){z.append("<div style='position:absolute; left:"+J%y+"px; top:"+K%A+"px; width:"+y+"px; height:"+A+"px; margin:0; padding:0;' data-pixelSize='"+s+"'></div>");H=z.children(":last").data("scaleOrigin",J%y+","+K%A)}else{H.css({left:J%y+"px",top:K%A+"px"}).data("scaleOrigin",J%y+","+K%A);H.children().each(function(){var L=
d(this),da=L.attr("data-tile").split(",");L.css({left:Math.round((parseInt(da[0])-ba)*100+(J-J%y)/y*100)+"%",top:Math.round((parseInt(da[1])-ca)*100+(K-K%A)/A*100)+"%"});X<1&&L.fadeTo(0,X)})}for(F=F;F<aa;F++)for(G=S;G<ga;G++){T=""+F+","+G;var I=H.children("[data-tile='"+T+"']");I.removeAttr("data-dirty");if(I.size()===0||g.reloadTiles){var U=[D.origin[0]+F*y*s,D.origin[1]-G*A*s],ea=[D.origin[0]+((F+1)*y-1)*s,D.origin[1]-((G+1)*A-1)*s];U=b.getUrl({bbox:[U[0],U[1],ea[0],ea[1]],width:y,height:A,zoom:a._getZoom(),
tile:{row:G,column:F}});g.loadCount++;if(g.reloadTiles&&I.size()>0)I.attr("src",U);else{I="<img style='position:absolute; left:"+((F-ba)*100+(J-J%y)/y*100)+"%; top:"+((G-ca)*100+(K-K%A)/A*100)+"%; ";if(d("body")[0].filters===l)I+="width: 100%; height: 100%;";I+="margin:0; padding:0; -moz-user-select:none; display:none;' unselectable='on' data-tile='"+T+"' />";H.append(I);I=H.children(":last");I.load(function(L){X<1?d(L.target).fadeTo(0,X):d(L.target).show();g.loadCount--;if(g.loadCount<=0){z.children(":not([data-pixelSize='"+
s+"'])").remove();g.loadCount=0}}).error(function(L){d(L.target).remove();g.loadCount--;if(g.loadCount<=0){z.children(":not([data-pixelSize='"+s+"'])").remove();g.loadCount=0}}).attr("src",U)}}}C.find("[data-dirty]").remove();g.reloadTiles=false}},_cancelUnloaded:function(a,b){var g=this[b.id],z=g.serviceContainer;if(g.loadCount>0)for(z.find("img:hidden").remove();g.loadCount>0;)g.loadCount--},_onOpacityChanged:function(){}}}};d.widget("geo.geomap",function(){return{options:d.extend({},ha),_createWidget:function(a,
b){N=a;e=d(b);var g=e.css("position");g!="relative"&&g!="absolute"&&g!="fixed"&&e.css("position","relative");e.css("text-align","left");g=this._findMapSize();f={x:parseInt(e.css("padding-left")),y:parseInt(e.css("padding-top")),width:g.width,height:g.height};this._createChildren();m=p=[0,0];k=t=156543.03392799935;x=B=w=r=W=R=O=false;u=v=V=P=E=[0,0];Q=[0.8,0.8];Y=Z=0;d.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){o=this.options;var a=(M="ontouchend"in document)?"touchstart":
"mousedown",b=M?"touchend touchcancel":"mouseup",g=M?"touchmove":"mousemove";q.dblclick(d.proxy(this._eventTarget_dblclick,this));q.bind(a,d.proxy(this._eventTarget_touchstart,this));a=q[0].setCapture?q:d(document);a.bind(g,d.proxy(this._dragTarget_touchmove,this));a.bind(b,d.proxy(this._dragTarget_touchstop,this));q.mousewheel(d.proxy(this._eventTarget_mousewheel,this));N.bbox&&this._setOption("bbox",N.bbox,false);N.center&&this._setOption("center",N.center,false);N.zoom&&this._setZoom(N.zoom,false,
false);q.css("cursor",o.cursors[o.mode]);this._createServices();this._refresh()},_setOption:function(a,b,g){g=g===l||g;switch(a){case "bbox":if(d.geo.proj){b=d.geo.proj.fromGeodetic([[b[0],b[1]],[b[2],b[3]]]);b=[b[0][0],b[0][1],b[1][0],b[1][1]]}this._setBbox(b,false,g);b=this._getBbox();if(d.geo.proj){b=d.geo.proj.toGeodetic([[b[0],b[1]],[b[2],b[3]]]);b=[b[0][0],b[0][1],b[1][0],b[1][1]]}break;case "center":this._setCenterAndSize(d.geo.proj?d.geo.proj.fromGeodetic([[b[0],b[1]]])[0]:b,k,false,g);break;
case "zoom":this._setZoom(b,false,g)}d.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){d.Widget.prototype.destroy.apply(this,arguments);this.element.html("")},_getBbox:function(){var a=f.width/2*k,b=f.height/2*k;return[m[0]-a,m[1]-b,m[0]+a,m[1]+b]},_setBbox:function(a,b,g){var z=[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2];a=Math.max(d.geo._width(a)/f.width,d.geo._height(a)/f.height);if(o.tilingScheme)a=this._getTiledPixelSize(this._getTiledZoom(a));this._setCenterAndSize(z,a,b,g)},
_getBboxMax:function(){var a=f.width/2*t,b=f.height/2*t;return[p[0]-a,p[1]-b,p[0]+a,p[1]+b]},_getZoom:function(){if(o.tilingScheme)return this._getTiledZoom(k);else{var a=f.width/f.height,b=d.geo._reaspect(this._getBbox(),a);a=d.geo._reaspect(this._getBboxMax(),a);return Math.log(d.geo._width(a)/d.geo._width(b))/Math.log(2)}},_setZoom:function(a,b,g){a=Math.max(a,0);if(o.tilingScheme)this._setCenterAndSize(m,this._getTiledPixelSize(a),b,g);else{a=d.geo._scaleBy(this._getBbox(),1/Math.pow(2,a));a=
Math.max(d.geo._width(a)/f.width,d.geo._height(a)/f.height);this._setCenterAndSize(m,a,b,g)}},_createChildren:function(){var a=e.children().detach();a.css("-moz-user-select","none");e.prepend("<div style='position:absolute; left:"+f.x+"px; top:"+f.y+"px; width:"+f.width+"px; height:"+f.height+"px; margin:0; padding:0; overflow:hidden; -khtml-user-select:none; -moz-user-select:none; -webkit-user-select:none; user-select:none;' unselectable='on'></div>");q=h=e.children(":first");h.append('<div style="position:absolute; left:0; top:0; width:'+
f.width+"px; height:"+f.height+'px; margin: 0; padding: 0;"></div>');j=h.children(":last");h.append('<div style="position:absolute; left:0; top:0; width:'+f.width+"px; height:"+f.height+'px; margin: 0; padding: 0;"></div>');h.children(":last");h.append('<div class="ui-widget ui-widget-content ui-corner-all" style="position:absolute; left:0; top:0px; max-width:128px; display:none;"><div style="margin:.2em;"></div></div>');n=h.children(":last");n.children();h.append(a)},_createServices:function(){for(var a=
0;a<o.services.length;a++)o._serviceTypes[o.services[a].type].create(this,o.services[a])},_findMapSize:function(){for(var a={width:0,height:0},b=e;b.size()&&!(a.width>0&&a.height>0);){a={width:b.width(),height:b.height()};if(a.width<=0||a.height<=0)a={width:parseInt(b.css("width")),height:parseInt(b.css("height"))};b=b.parent()}return a},_getTiledPixelSize:function(a){var b=o.tilingScheme;if(b!=null){if(a===0)return b.pixelSizes!=null?b.pixelSizes[0]:b.basePixelSize;a=Math.round(a);a=Math.max(a,0);
a=Math.min(a,(b.pixelSizes!=null?b.pixelSizes.length:b.levels)-1);return b.pixelSizes!=null?b.pixelSizes[a]:b.basePixelSize/Math.pow(2,a)}else return NaN},_getTiledZoom:function(a){var b=o.tilingScheme;if(b.pixelSizes!=null){a=Math.round(a);for(var g=(b.pixelSizes!=null?b.pixelSizes.length:b.levels)-1;g>=0;g--)if(Math.round(b.pixelSizes[g])>=a)return g;return 0}else return Math.max(Math.round(Math.log(b.basePixelSize/a)/Math.log(2)),0)},_panEnd:function(){E=[E[0]>0?Math.floor(E[0]*Q[0]):Math.ceil(E[0]*
Q[0]),E[1]>0?Math.floor(E[1]*Q[1]):Math.ceil(E[1]*Q[1])];if(Math.abs(E[0])<4&&Math.abs(E[1])<4)this._panFinalize();else{v=[v[0]+E[0],v[1]+E[1]];this._panMove();setTimeout(d.proxy(this._panEnd,this),30)}},_panFinalize:function(){if(W){E=[0,0];this._setCenterAndSize([m[0]+-(v[0]-u[0])*k,m[1]+(v[1]-u[1])*k],k,true,true);B=false;u=v;w=W=false;q.css("cursor",o.cursors[o.mode])}},_panMove:function(){var a=v[0]-P[0],b=v[1]-P[1];if(w||a>3||a<-3||b>3||b<-3){if(!w){w=true;q.css("cursor",o.cursors.pan)}if(x)E=
[a,b];if(a!=0||b!=0){W=true;P=v;for(i=0;i<o.services.length;i++){var g=o.services[i];o._serviceTypes[g.type].interactivePan(this,g,a,b)}}}},_refresh:function(){for(var a=0;a<o.services.length;a++){var b=o.services[a];!x&&o._serviceTypes[b.type]!=null&&o._serviceTypes[b.type].refresh(this,b)}},_setCenterAndSize:function(a,b,g,z){if(k!=b)for(g=0;g<o.services.length;g++){var s=o.services[g];o._serviceTypes[s.type].interactiveScale(this,s,a,b)}m=a;k=b;if(d.geo.proj){a=this._getBbox();a=d.geo.proj.toGeodetic([[a[0],
a[1]],[a[2],a[3]]]);a=[a[0][0],a[0][1],a[1][0],a[1][1]];o.bbox=a;o[m]=d.geo.proj.toGeodetic([[m[0],m[1]]])[0]}else{o.bbox=this._getBbox();o[m]=m}o.zoom=this._getZoom();z&&this._refresh()},_toMap:function(a,b,g){var z=d.isArray(a[0]);z||(a=[a]);b=b||m;g=g||k;var s=f.width,C=f.height,D=s/2*g;g=C/2*g;var y=[b[0]-D,b[1]-g,b[0]+D,b[1]+g],A=d.geo._width(y)/s,F=d.geo._height(y)/C,S=[];d.each(a,function(aa){S[aa]=[y[0]+this[0]*A,y[3]-this[1]*F]});return z?S:S[0]},_zoomTo:function(a,b){b=b<0?0:b;var g=this._getTiledPixelSize(b);
if(isNaN(g)){g=d.geo._scaleBy(this._getBboxMax(),1/Math.pow(2,b));g=Math.max(d.geo._width(g)/f.width,d.geo._height(g)/f.height);this._setCenterAndSize(a,g,false,true)}else this._setCenterAndSize(a,g,false,true)},_eventTarget_dblclick:function(a){this._panFinalize();offset=d(a.currentTarget).offset();switch(o.mode){case "pan":this._zoomTo(this._toMap(v),this._getZoom()+1)}B=false},_eventTarget_touchstart:function(a){if(!(!M&&a.which!=1)){if($){var b=d.now();O=b-Y<750?O?false:R:false;R=true;Y=b}a.preventDefault();
this._panFinalize();b=d(a.currentTarget).offset();v=M?[a.originalEvent.changedTouches[0].pageX-b.left,a.originalEvent.changedTouches[0].pageY-b.top]:[a.pageX-b.left,a.pageY-b.top];x=true;u=v;if(!B&&a.shiftKey){r=true;q.css("cursor",o.cursors.zoom)}else{B=true;switch(o.mode){case "pan":P=v;a.currentTarget.setCapture&&a.currentTarget.setCapture()}}return false}},_dragTarget_touchmove:function(a){var b=q.offset();a=M?[a.originalEvent.changedTouches[0].pageX-b.left,a.originalEvent.changedTouches[0].pageY-
b.top]:[a.pageX-b.left,a.pageY-b.top];if(!(a[0]==V[0]&&a[1]==V[1])){if($)O=R=false;if(x){v=a;Z=d.now()}switch(r?"zoom":o.mode){case "pan":x&&this._panMove()}V=a}},_dragTarget_touchstop:function(a){!x&&fa==7&&this._eventTarget_touchstart(a);var b=x,g=q.offset();g=M?[a.originalEvent.changedTouches[0].pageX-g.left,a.originalEvent.changedTouches[0].pageY-g.top]:[a.pageX-g.left,a.pageY-g.top];var z=r?"zoom":o.mode;q.css("cursor",o.cursors[z]);r=x=w=false;document.releaseCapture&&document.releaseCapture();
if(b){b=d.now();v=g;switch(z){case "pan":b-Z>500?this._panFinalize():this._panEnd()}if($&&O){O=R=false;q.trigger("dblclick",a)}}},_eventTarget_mousewheel:function(){}}}())})(jQuery);
