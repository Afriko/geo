(function(e){function m(k){var d=[].slice.call(arguments,1),g=0;k=e.event.fix(k||window.event);k.type="mousewheel";if(k.wheelDelta)g=k.wheelDelta/120;if(k.detail)g=-k.detail/3;d.unshift(k,g);return e.event.handle.apply(this,d)}var p=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var k=p.length;k;)this.addEventListener(p[--k],m,false);else this.onmousewheel=m},teardown:function(){if(this.removeEventListener)for(var k=p.length;k;)this.removeEventListener(p[--k],
m,false);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(k){return k?this.bind("mousewheel",k):this.trigger("mousewheel")},unmousewheel:function(k){return this.unbind("mousewheel",k)}})})(jQuery);
(function(e,m){var p=Array.prototype.slice,k=e.cleanData;e.cleanData=function(d){for(var g=0,h;(h=d[g])!=null;g++)e(h).triggerHandler("remove");k(d)};e.widget=function(d,g,h){var j=d.split(".")[0],l;d=d.split(".")[1];l=j+"-"+d;if(!h){h=g;g=e.Widget}e.expr[":"][l]=function(o){return!!e.data(o,d)};e[j]=e[j]||{};e[j][d]=e.extend(function(o,s){if(!this._createWidget)return new e[j][d](o,s);arguments.length&&this._createWidget(o,s)},e[j][d]);var r=new g;r.options=e.extend(true,{},r.options);e.each(h,function(o,
s){if(e.isFunction(s))h[o]=function(){var x=function(b){return g.prototype[b].apply(this,p.call(arguments,1))},y=function(b,a){return g.prototype[b].apply(this,a)};return function(){var b=this._super,a=this._superApply,f;this._super=x;this._superApply=y;f=s.apply(this,arguments);this._super=b;this._superApply=a;return f}}()});e[j][d].prototype=e.extend(true,r,{namespace:j,widgetName:d,widgetEventPrefix:d,widgetBaseClass:l},h);e.widget.bridge(d,e[j][d])};e.widget.bridge=function(d,g){e.fn[d]=function(h){var j=
typeof h==="string",l=p.call(arguments,1),r=this;h=!j&&l.length?e.extend.apply(null,[true,h].concat(l)):h;j?this.each(function(){var o=e.data(this,d);if(!o)return e.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+h+"'");if(!e.isFunction(o[h])||h.charAt(0)==="_")return e.error("no such method '"+h+"' for "+d+" widget instance");var s=o[h].apply(o,l);if(s!==o&&s!==m){r=s;return false}}):this.each(function(){var o=e.data(this,d);o?o.option(h||{})._init():g(h,
this)});return r}};e.Widget=function(d,g){if(!this._createWidget)return new e[namespace][name](d,g);arguments.length&&this._createWidget(d,g)};e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false},_createWidget:function(d,g){g=e(g||this.defaultElement||this)[0];this.element=e(g);this.options=e.extend(true,{},this.options,this._getCreateOptions(),d);this.bindings=e();this.hoverable=e();this.focusable=e();if(g!==this){e.data(g,this.widgetName,this);
this._bind({remove:"destroy"})}this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");this.bindings.unbind("."+this.widgetName);this.hoverable.removeClass("ui-state-hover");
this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(d,g){var h=d;if(arguments.length===0)return e.extend({},this.options);if(typeof d==="string"){if(g===m)return this.options[d];h={};h[d]=g}this._setOptions(h);return this},_setOptions:function(d){var g=this;e.each(d,function(h,j){g._setOption(h,j)});return this},_setOption:function(d,g){this.options[d]=g;if(d==="disabled"){this.widget().toggleClass(this.widgetBaseClass+"-disabled ui-state-disabled",
!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_bind:function(d,g){if(g){d=e(d);this.bindings=this.bindings.add(d)}else{g=d;d=this.element}var h=this;e.each(g,function(j,l){d.bind(j+"."+h.widgetName,function(){if(!(h.options.disabled===true||e(this).hasClass("ui-state-disabled")))return(typeof l===
"string"?h[l]:l).apply(h,arguments)})})},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._bind(d,{mouseenter:function(g){e(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){e(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d);this._bind(d,{focusin:function(g){e(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){e(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(d,g,h){var j=
this.options[d];g=e.Event(g);g.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();h=h||{};if(g.originalEvent){d=e.event.props.length;for(var l;d;){l=e.event.props[--d];g[l]=g.originalEvent[l]}}this.element.trigger(g,h);h=e.isArray(h)?[g].concat(h):[g,h];return!(e.isFunction(j)&&j.apply(this.element[0],h)===false||g.isDefaultPrevented())}}})(jQuery);
(function(e){e.geo={_center:function(m){return[(m[0]+m[2])/2,(m[1]+m[3])/2]},_expandBy:function(m,p,k){m=this._center(m);return[m[0]-p,m[1]-k,m[0]+p,m[1]+k]},_height:function(m){return m[3]-m[1]},_reaspect:function(m,p){var k=this._width(m),d=this._height(m);this._center(m);if(k==0||d==0||p<=0)return m;if(k/d>p){k=k/2;d=k/p}else{d=d/2;k=d*p}return[c[0]-k,c[1]-d,c[0]+k,c[1]+d]},_scaleBy:function(m,p){return this._expandBy(m,this._width(m)*p/2,this._height(m)*p/2)},_width:function(m){return m[2]-m[0]},
proj:function(){function m(d){return d>Math.PI?d-=p:d<-Math.PI?d+=p:d}var p=6.283185307179586;this.CoordinateSystem=function(d,g,h,j){if(arguments.length<2)g=0;if(arguments.length<3)h=0;if(arguments.length<4)j=1;switch(j){case "meters":j=1;break;case "feet":j=3.2808333333333333}this.toGeodetic=function(l){return d.toGeodetic({x:(l.x-g)/j,y:(l.y-h)/j})};this.toProjected=function(l){l=d.toProjected(l);return{x:l.x*j+g,y:l.y*j+h}}};this.Mercator=function(d,g,h){d*=0.017453292519943295;g*=0.017453292519943295;
var j=h.e*h.e,l=Math.sin(g),r=1/(Math.sqrt(1-j*l*l)/Math.cos(g));g=j*j;l=g*j;var o=l*j,s=j/2+5*g/24+l/12+13*o/360,x=7*g/48+29*l/240+811*o/11520,y=7*l/120+81*o/1120,b=4279*o/161280;this.toGeodetic=function(a){var f=m(d+a.x/(r*h.smaj));a=1.5707963267948966-2*Math.atan(1/Math.exp(a.y/(r*h.smaj)));return{x:f*57.29577951308232,y:(a+s*Math.sin(2*a)+x*Math.sin(4*a)+y*Math.sin(6*a)+b*Math.sin(8*a))*57.29577951308232}};this.toProjected=function(a){var f=a.y*0.017453292519943295,n=h.e*Math.sin(f);f=Math.tan(Math.PI/
4+f/2)*Math.pow((1-n)/(1+n),h.e/2);a=m(a.x*0.017453292519943295-d);return{x:r*h.smaj*a,y:r*h.smaj*Math.log(f)}}};this.Spheroid=function(d,g){switch(typeof d){case "number":this.smaj=d;this.e=g;break;case "string":switch(d){case "WGS84Sphere":this.smaj=6378137;this.e=0}}this.smin=this.smaj*Math.sqrt(1-this.e*this.e);var h=(this.smaj-this.smin)/this.smaj;this.distance=function(j,l,r){if(arguments.length<3)r=1;switch(r){case "meters":r=1;break;case "feet":r=3.2808333333333333}var o=j.y*0.017453292519943295,
s=l.y*0.017453292519943295,x=(o+s)*0.5,y=(o-s)*0.5,b=(j.x*0.017453292519943295-l.x*0.017453292519943295)*0.5;o=Math.sin(x);o*=o;x=Math.cos(x);x*=x;s=Math.sin(y);s*=s;y=Math.cos(y);y*=y;var a=Math.sin(b);a*=a;var f=Math.cos(b);f*=f;b=s*f+x*a;a=y*f+o*a;f=Math.atan(Math.sqrt(b/a));var n=Math.sqrt(b*a)/f;return 2*this.smaj*f*(1+h*((3*n-1)/(2*a)*o*y-(3*n+1)/(2*b)*x*s))*r}};var k=new Mercator(0,0,new Spheroid("WGS84Sphere"));return{fromGeodetic:function(d){for(var g=[],h=0,j;h<d.length;h++){j=k.toProjected({x:d[h][0],
y:d[h][1]});g[h]=[j.x,j.y]}return g},toGeodetic:function(d){for(var g=[],h=0,j;h<d.length;h++){j=k.toGeodetic({x:d[h][0],y:d[h][1]});g[h]=[j.x,j.y]}return g}}}()}})(jQuery,this);
(function(e,m){var p="center",k="pixelSize",d={},g,h,j,l,r,o,s=function(){for(var b=5,a=document.createElement("div"),f=a.all||[];a.innerHTML="<!--[if gt IE "+ ++b+"]><br><![endif]--\>",f[0];);return b>6?b:!b}(),x=this._supportTouch||this._ieVersion==7,y={bbox:[-180,-90,180,90],bboxMax:[-180,-90,180,90],center:[0,0],cursors:{pan:"move"},mode:"pan",pixelSize:156543.03392799935,services:[{id:"OSM",type:"tiled",getUrl:function(b){return"http://tile.openstreetmap.org/"+b.zoom+"/"+b.tile.column+"/"+b.tile.row+
".png"},attr:"&copy; OpenStreetMap &amp; contributors, CC-BY-SA",visible:true}],tilingScheme:{tileWidth:256,tileHeight:256,levels:18,basePixelSize:156543.03392799935,origin:[-2.0037508342787E7,2.0037508342787E7]},zoom:0,_serviceTypes:{tiled:{create:function(b,a,f){if(this[a.id]==null){this[a.id]={loadCount:0,reloadTiles:false,serviceContainer:null};b='<div data-service="'+a.id+'" style="position:absolute; left:0; top:0; width:8px; height:8px; margin:0; padding:0; display:'+(a.visible?"block":"none")+
';"></div>';f!=null?e(h.children()[f]).before(b):h.append(b);this[a.id].serviceContainer=h.children('[data-service="'+a.id+'"]')}},destroy:function(b,a){this[a.id].serviceContainer.remove();delete this[a.id]},interactivePan:function(b,a,f,n){this._cancelUnloaded(b,a);this[a.id].serviceContainer.children().css({left:function(q,u){return parseInt(u)+f},top:function(q,u){return parseInt(u)+n}})},interactiveScale:function(){},refresh:function(b,a){if(a!=null&&this[a.id]!=null&&a.visible){this._cancelUnloaded(b,
a);var f=this[a.id],n=f.serviceContainer,q=k,u=b._bbox(),w=b.options.tilingScheme,t=w.tileWidth,v=w.tileHeight,z=Math.floor((u[0]-w.origin[0])/(q*t)),G=Math.floor((w.origin[1]-u[3])/(q*v)),K=Math.ceil((u[2]-w.origin[0])/(q*t)),P=Math.ceil((w.origin[1]-u[1])/(q*v)),B=b._bboxMax(),A=b._tiledPixelSize(0),H=A/q,L=Math.floor((B[0]-w.origin[0])/(A*t))*H,M=Math.floor((w.origin[1]-B[3])/(A*v))*H,D=Math.round((w.origin[0]+L*t*q-u[0])/q),E=Math.round((u[3]-(w.origin[1]-M*v*q))/q);u=n.children().show();B=u.filter('[data-pixelSize="'+
q+'"]').appendTo(n);var J=a.opacity==null?1:a.opacity;f.reloadTiles&&u.find("img").attr("data-dirty","true");if(B.size()===0){n.append('<div style="position:absolute; left:'+D%t+"px; top:"+E%v+"px; width:"+t+"px; height:"+v+'px; margin:0; padding:0;" data-pixelSize="'+q+'"></div>');B=n.children(":last").data("scaleOrigin",D%t+","+E%v)}else{B.css({left:D%t+"px",top:E%v+"px"}).data("scaleOrigin",D%t+","+E%v);B.children().each(function(){var F=e(this),N=F.attr("data-tile").split(",");F.css({left:Math.round((parseInt(N[0])-
L)*100+(D-D%t)/t*100)+"%",top:Math.round((parseInt(N[1])-M)*100+(E-E%v)/v*100)+"%"});J<1&&F.fadeTo(0,J)})}for(z=z;z<K;z++)for(A=G;A<P;A++){H=""+z+","+A;var C=B.children('[data-tile="'+H+'"]');C.removeAttr("data-dirty");if(C.size()===0||f.reloadTiles){var I=[w.origin[0]+z*t*q,w.origin[1]-A*v*q],O=[w.origin[0]+((z+1)*t-1)*q,w.origin[1]-((A+1)*v-1)*q];I=a.getUrl({bbox:[I[0],I[1],O[0],O[1]],width:t,height:v,zoom:b._zoom(),tile:{row:A,column:z}});f.loadCount++;if(f.reloadTiles&&C.size()>0)C.attr("src",
I);else{C='<img style="position:absolute; left:'+((z-L)*100+(D-D%t)/t*100)+"%; top:"+((A-M)*100+(E-E%v)/v*100)+"%; ";if(e("body")[0].filters===m)C+="width: 100%; height: 100%;";C+='margin:0; padding:0; -moz-user-select:none; display:none;" unselectable="on" data-tile="'+H+'" />';B.append(C);C=B.children(":last");C.load(function(F){J<1?e(F.target).fadeTo(0,J):e(F.target).show();f.loadCount--;if(f.loadCount<=0){n.children(':not([data-pixelSize="'+q+'"])').remove();f.loadCount=0}}).error(function(F){e(F.target).remove();
f.loadCount--;if(f.loadCount<=0){n.children(':not([data-pixelSize="'+q+'"])').remove();f.loadCount=0}}).attr("src",I)}}}u.find("[data-dirty]").remove();f.reloadTiles=false}},_cancelUnloaded:function(b,a){var f=this[a.id],n=f.serviceContainer;if(f.loadCount>0)for(n.find("img:hidden").remove();f.loadCount>0;)f.loadCount--},_onOpacityChanged:function(){}}}};e.widget("geo.geomap",function(){return{options:e.extend({},y),_create:function(){var b=this.element,a=b.css("position");a!="relative"&&a!="absolute"&&
a!="fixed"&&b.css("position","relative");b.css("text-align","left");a=this._mapSize();d={x:parseInt(b.css("padding-left")),y:parseInt(b.css("padding-top")),width:a.width,height:a.height};this._createChildren();p=r=[0,0];k=o=156543.03392799935;this._mouseDown=this._inOp=this._toolPan=this._shiftZoom=this._panning=this._isTap=this._isDbltap=false;this._anchor=this._current=this._lastMove=this._lastDrag=this._velocity=[0,0];this._friction=[0.8,0.8];this._downDate=this._moveDate=this._clickDate=0;var f=
(this._supportTouch="ontouchend"in document)?"touchstart":"mousedown";b=this._supportTouch?"touchend touchcancel":"mouseup";a=this._supportTouch?"touchmove":"mousemove";l.dblclick(e.proxy(this._eventTarget_dblclick,this));l.bind(f,e.proxy(this._eventTarget_touchstart,this));f=l[0].setCapture?l:e(document);f.bind(a,e.proxy(this._dragTarget_touchmove,this));f.bind(b,e.proxy(this._dragTarget_touchstop,this));l.mousewheel(e.proxy(this._eventTarget_mousewheel,this));this._createServices();this._refresh()},
_setOption:function(){e.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){e.Widget.prototype.destroy.apply(this,arguments);this.element.html("")},_bbox:function(){var b=d.width/2*k,a=d.height/2*k;return[p[0]-b,p[1]-a,p[0]+b,p[1]+a]},_bboxMax:function(){var b=d.width/2*o,a=d.height/2*o;return[r[0]-b,r[1]-a,r[0]+b,r[1]+a]},_createChildren:function(){var b=this.element,a=b.children().detach();a.css("-moz-user-select","none");b.prepend('<div style="position:absolute; left:'+d.x+"px; top:"+
d.y+"px; width:"+d.width+"px; height:"+d.height+'px; margin:0; padding:0; overflow:hidden; -khtml-user-select:none; -moz-user-select:none; -webkit-user-select:none; user-select:none;" unselectable="on"></div>');l=g=b.children(":first");g.append('<div style="position:absolute; left:0; top:0; width:'+d.width+"px; height:"+d.height+'px; margin: 0; padding: 0;"></div>');h=g.children(":last");g.append('<div style="position:absolute; left:0; top:0; width:'+d.width+"px; height:"+d.height+'px; margin: 0; padding: 0;"></div>');
g.children(":last");g.append('<div class="ui-widget ui-widget-content ui-corner-all" style="position:absolute; left:0; top:0px; max-width:128px; display:none;"><div style="margin:.2em;"></div></div>');j=g.children(":last");j.children();g.append(a)},_createServices:function(){for(var b=this.options,a=0;a<b.services.length;a++)b._serviceTypes[b.services[a].type].create(this,b.services[a])},_mapSize:function(){for(var b={width:0,height:0},a=this.element;a.size()&&!(b.width>0&&b.height>0);){b={width:a.width(),
height:a.height()};if(b.width<=0||b.height<=0)b={width:parseInt(a.css("width")),height:parseInt(a.css("height"))};a=a.parent()}return b},_panEnd:function(){this._velocity=[this._velocity[0]>0?Math.floor(this._velocity[0]*this._friction[0]):Math.ceil(this._velocity[0]*this._friction[0]),this._velocity[1]>0?Math.floor(this._velocity[1]*this._friction[1]):Math.ceil(this._velocity[1]*this._friction[1])];if(Math.abs(this._velocity[0])<4&&Math.abs(this._velocity[1])<4)this._panFinalize();else{this._current=
[this._current[0]+this._velocity[0],this._current[1]+this._velocity[1]];this._panMove();setTimeout(e.proxy(this._panEnd,this),30)}},_panFinalize:function(){if(this._panning){this._velocity=[0,0];var b=this.options;this._setCenterAndSize([p[0]+-(this._current[0]-this._anchor[0])*k,p[1]+(this._current[1]-this._anchor[1])*k],k,true);this._inOp=false;this._anchor=this._current;this._toolPan=this._panning=false;l.css("cursor",b.cursors[b.mode])}},_panMove:function(){var b=this.options,a=this._current[0]-
this._lastDrag[0],f=this._current[1]-this._lastDrag[1];if(isNaN(a)||isNaN(f))debugger;if(this._toolPan||a>3||a<-3||f>3||f<-3){if(!this._toolPan){this._toolPan=true;l.css("cursor",b.cursors.pan)}if(this._mouseDown)this._velocity=[a,f];if(a!=0||f!=0){this._panning=true;this._lastDrag=this._current;for(i=0;i<b.services.length;i++){var n=b.services[i];b._serviceTypes[n.type].interactivePan(this,n,a,f)}}}},_refresh:function(){for(var b=this.options,a=0;a<b.services.length;a++){var f=b.services[a];!this._mouseDown&&
b._serviceTypes[f.type]!=null&&b._serviceTypes[f.type].refresh(this,f)}},_setCenterAndSize:function(b,a,f){var n=this.options;if(k!=a)for(var q=0;q<n.services.length;q++){var u=n.services[q];n._serviceTypes[u.type].interactiveScale(this,u,b,a)}p=b;k=a;if(typeof f==="undefined"||f)this._refresh()},_tiledPixelSize:function(b){var a=this.options.tilingScheme;if(a!=null){if(b===0)return a.pixelSizes!=null?a.pixelSizes[0]:a.basePixelSize;b=Math.round(b);b=Math.max(b,0);b=Math.min(b,(a.pixelSizes!=null?
a.pixelSizes.length:a.levels)-1);return a.pixelSizes!=null?a.pixelSizes[b]:a.basePixelSize/Math.pow(2,b)}else return NaN},_tiledZoom:function(b){var a=this.options.tilingScheme;if(a.pixelSizes!=null){b=Math.round(b);for(var f=(a.pixelSizes!=null?a.pixelSizes.length:a.levels)-1;f>=0;f--)if(Math.round(a.pixelSizes[f])>=b)return f;return 0}else return Math.max(Math.round(Math.log(a.basePixelSize/b)/Math.log(2)),0)},_toMap:function(b,a,f){var n=e.isArray(b[0]);n||(b=[b]);a=a||p;f=f||k;var q=d.width,u=
d.height,w=q/2*f;f=u/2*f;var t=[a[0]-w,a[1]-f,a[0]+w,a[1]+f],v=e.geo._width(t)/q,z=e.geo._height(t)/u,G=[];e.each(b,function(K){G[K]=[t[0]+this[0]*v,t[3]-this[1]*z]});return n?G:G[0]},_zoom:function(){if(this.options.tilingScheme!=null)return this._tiledZoom(k);else{var b=d.width/d.height,a=e.geo._reaspect(this._bbox(),b);b=e.geo._reaspect(this._bboxMax(),b);return Math.log(e.geo._width(b)/e.geo._width(a))/Math.log(2)}},_zoomTo:function(b,a){a=a<0?0:a;var f=this._tiledPixelSize(a);if(isNaN(f)){f=
e.geo._scaleBy(this._bboxMax(),1/Math.pow(2,a));f=Math.max(e.geo._width(f)/d.width,e.geo._height(f)/d.height);this._setCenterAndSize(b,f,true)}else this._setCenterAndSize(b,f,true)},_eventTarget_dblclick:function(b){this._panFinalize();var a=this.options;e(b.currentTarget).offset();switch(a.mode){case "pan":this._zoomTo(this._toMap(this._current),this._zoom()+1)}this._inOp=false},_eventTarget_touchstart:function(b){if(!(!this._supportTouch&&b.which!=1)){var a=this.options;if(x){var f=e.now();this._isDbltap=
f-this._downDate<750?this._isDbltap?false:this._isTap:false;this._isTap=true;this._downDate=f}b.preventDefault();this._panFinalize();f=e(b.currentTarget).offset();this._current=this._supportTouch?[b.originalEvent.changedTouches[0].pageX-f.left,b.originalEvent.changedTouches[0].pageY-f.top]:[b.pageX-f.left,b.pageY-f.top];this._mouseDown=true;this._anchor=this._current;if(!this._inOp&&b.shiftKey){this._shiftZoom=true;l.css("cursor",a.cursors.zoom)}else{this._inOp=true;switch(a.mode){case "pan":this._lastDrag=
this._current;b.currentTarget.setCapture&&b.currentTarget.setCapture()}}return false}},_dragTarget_touchmove:function(b){var a=this.options,f=l.offset();b=this._supportTouch?[b.originalEvent.changedTouches[0].pageX-f.left,b.originalEvent.changedTouches[0].pageY-f.top]:[b.pageX-f.left,b.pageY-f.top];if(!(b[0]==this._lastMove[0]&&b[1]==this._lastMove[1])){if(x)this._isDbltap=this._isTap=false;if(this._mouseDown){this._current=b;this._moveDate=e.now()}switch(this._shiftZoom?"zoom":a.mode){case "pan":this._mouseDown&&
this._panMove()}this._lastMove=b}},_dragTarget_touchstop:function(b){!this._mouseDown&&s==7&&this._eventTarget_touchstart(b);var a=this.options,f=this._mouseDown,n=l.offset();n=this._supportTouch?[b.originalEvent.changedTouches[0].pageX-n.left,b.originalEvent.changedTouches[0].pageY-n.top]:[b.pageX-n.left,b.pageY-n.top];var q=this._shiftZoom?"zoom":a.mode;l.css("cursor",a.cursors[q]);this._shiftZoom=this._mouseDown=this._toolPan=false;document.releaseCapture&&document.releaseCapture();if(f){a=e.now();
this._current=n;switch(q){case "pan":a-this._moveDate>500?this._panFinalize():this._panEnd()}this._clickDate=a;if(x&&this._isDbltap){this._isDbltap=this._isTap=false;l.trigger("dblclick",b)}}},_eventTarget_mousewheel:function(){}}}())})(jQuery);
